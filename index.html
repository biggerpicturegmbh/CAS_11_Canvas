<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Canvas Tricks</title>
    <link rel="stylesheet" type="text/css" href="style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik+Dirt&display=swap" rel="stylesheet"> 

  </head>
  <body>
    <canvas id="cnv1"> </canvas>
    <div class="container">
      <h1>BIGGER BROTHER IN CANVAS</h1>
    </div>
    <div class="hidden">
      <img id="img1" src="assets/eyerolling_eyewhite.png" alt="White" />
      <img id="img2" src="assets/eyerolling_iris.png" alt="IRIS" />
      <img id="img3" src="assets/eyerolling_face.png" alt="FACE" />
    </div>
    
    <script src="helpers.js"></script>
    
    <script>

      //  --- BIGGER BROTHER ---
      const img1 = document.getElementById("img1");
      const img2 = document.getElementById("img2");
      const img3 = document.getElementById("img3");
      const cnv1 = document.getElementById("cnv1");
      const ctx1 = cnv1.getContext("2d");
      
      window.addEventListener("mousemove", (e) => {
        let mouseX = e.clientX;
        let mouseY = e.clientY;
        // console.log(mouseX);
      });
      
      // let iShiftX = mouseX;
      // console.log(mouseX);
      //   let iShiftY = mapRange(mouseY, 0, cnv1.offsetWidth, -10, 10);
      
      optimizeCanvas(cnv1);
      cnv1.style.background = "black";
      
      img1.addEventListener("load", () => {
        const nw = img1.naturalWidth;
        const nh = img1.naturalHeight;
        const ow = cnv1.offsetWidth;
        const oh = cnv1.offsetHeight;
        ctx1.drawImage(
          img1, 0, 0, nw, nh, ow / 2 - nw / 2, oh / 2 - nh / 2.5, ow, ow
        );
      });
      // -- Hier IRIS --> bewegen
      img2.addEventListener("load", () => {
        const nw = img2.naturalWidth;
        const nh = img2.naturalHeight;
        const ow = cnv1.offsetWidth;
        const oh = cnv1.offsetHeight;
        ctx1.drawImage(
          img2, 0, 0, nw, nh, ow / 2 - nw / 2, oh / 2 - nh / 2.5, ow, ow
        );
      });
      img3.addEventListener("load", () => {
        const nw = img3.naturalWidth;
        const nh = img3.naturalHeight;
        const ow = cnv1.offsetWidth;
        const oh = cnv1.offsetHeight;
        ctx1.drawImage(
          img3, 0, 0, nw, nh, ow / 2 - nw / 2, oh / 2 - nh / 2.5, ow, ow
        );
      });

      // --- MARQUEE ---
      function marqueee() {
        heading.style.transform = `translateX(${x}px)`
        if (x > -window.innerWidth) {
          x = x - 1
        } else {
          x = window.innerWidth
        }
        window.requestAnimationFrame(marqueee)
      }

      let x = window.innerWidth
      const heading = document.querySelector('h1')

      marqueee()

    </script>
  </body>
</html>
